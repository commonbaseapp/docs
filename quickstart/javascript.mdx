---
title: "JavaScript"
description: "Start developing with Commonbase + JavaScript/TypeScript"
icon: "js"
---

> Last updated for npm package version `0.11.x`

The Commonbase npm package supports Node.js v18 and later. It also includes TypeScript support.

<Warning>
  This package is meant for server-side usage only. Using it in the browser will
  expose your project ID. Anyone who has your project ID can make requests to
  Commonbase on your behalf.
</Warning>

# Installation

Install the [Commonbase SDK package](https://www.npmjs.com/package/@commonbase/sdk) using your
preferred package manager:

<CodeGroup>

```bash npm
npm add @commonbase/sdk
```

```bash pnpm
pnpm add @commonbase/sdk
```

```bash yarn
yarn add @commonbase/sdk
```

</CodeGroup>

# Usage

A Project ID is required for all Commonbase requests. You can find your Project ID
in the [Commonbase Dashboard](https://commonbase.com/).

## Completions

### Text

To create a basic text completion, use `Client.createCompletion` with a `prompt`:

```ts
import { Client } from "@commonbase/sdk";

const client = new Client();

const completion = await client.createCompletion({
  projectId: "<your_project_id>",
  prompt: "Hello",
});

console.log(completion.bestResult);
```

`completion.bestResult` returns the most relevant completion from the. `completion.choices`
contains the full list of completions returned by the LLM provider:

```ts
for (const choice of completion.choices) {
  console.log(choice);
}
```

### Chat

To create a chat completion, provide a `chatContext` with a list of chat messages and set
the `providerConfig.params.type` to `'chat'`. In this mode, the `prompt` is prepended to the
context as a `'system'` message.

```ts
import { Client } from "@commonbase/sdk";

const client = new Client();

const completionResult = await client.createCompletion({
  projectId: "<your_project_id>",
  prompt: "You are an assistant who helps users with tech problems.",
  chatContext: {
    messages: [
      { role: "user", content: "My internet isn't working." },
      { role: "assistant", content: "Have you tried restarting your router?" },
      { role: "user", content: "Yes I've tried that." },
    ],
  },
  providerConfig: {
    provider: "cb-openai-eu",
    params: {
      type: "chat",
    },
  },
});

console.log(completionResult.bestResult);
```

### Streaming

To stream the completion response as it is generated, use `Client.createStreamingCompletion`.

Streaming is useful when you want to display a completion "as it is typed" for a chatbot-like experience.

For longer completions, streaming lets you avoid hanging while you wait for a completed response
from `Client.createCompletion`.

```ts
import { Client } from "@commonbase/sdk";

const client = new Client();

const completionStream = await client.createStreamingCompletion({
  projectId: "<your_project_id>",
  prompt: "Write me a short essay about artificial intelligence.",
});

for await (const result of completionStream) {
  if (completionResult.completed) {
    process.stdout.write("\n\n");
    console.log("streamCompleted", completionResult);
    continue;
  }
  process.stdout.write(completionResult.bestResult);
}

console.log("done");
```

## Embeddings

An embedding is a vector (list) of floating point numbers. The distance between two vectors
measures their relatedness. Small distances suggest high relatedness and large distances
suggest low relatedness.

To learn more about embeddings, see:

- [OpenAI Embeddings](https://platform.openai.com/docs/guides/embeddings/what-are-embeddings)
- [Microsoft: What are Embeddings?](https://learn.microsoft.com/en-us/semantic-kernel/memories/embeddings)

Commonbase supports embeddings through OpenAI's `text-embedding-ada-002` model:

```ts
import { Client } from "@commonbase/sdk";

const client = new Client();

const embeddingsResponse = await client.createEmbedding({
  input: "Your text string",
  projectId: "<your_project_id>",
  providerConfig: {
    provider: "cb-openai-eu",
    params: {
      type: "embeddings",
      model: "text-embedding-ada-002",
    },
  },
});

console.log(embeddingsResponse.data);
```
