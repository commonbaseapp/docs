---
title: "Python"
description: "Start developing with Commonbase + Python"
icon: "python"
---

> Last updated for pip package version `0.2.x`

## Installation

Install the [Commonbase package from PyPI](https://pypi.org/project/commonbase/) using `pip`:

```bash
pip install commonbase
```

## Usage

A Project ID and API Key are required for all Commonbase requests. You can find your project ID
and generate an API key in the [Commonbase Dashboard](https://commonbase.com/).

To create a completion, provide your Project ID, API Key, and prompt to `Completion.create`.

### Text Completion

To create a basic text completion, use `Completion.create` with a `prompt`:

```py
import commonbase

result = commonbase.Completion.create(
    api_key="YOUR_API_KEY",
    project_id="YOUR_PROJECT_ID",
    prompt="Hello!"
)

print(result.best_result)
```

### Chat Completion

To create a chat completion, provide a `chat_context` with list of chat messages and set the
`provider_config.params.type` to `chat`. In this mode, the `prompt` is prepended to the context
as a system message.

```py
import commonbase

result = commonbase.Completion.create(
    api_key="YOUR_API_KEY",
    project_id="YOUR_PROJECT_ID",
    prompt="You are an assistant who helps users with tech problems.",
    chat_context=commonbase.ChatContext([
        commonbase.ChatMessage(role="user", content="My internet isn't working."),
        commonbase.ChatMessage(role="assistant", content="Have you tried restarting your router?"),
        commonbase.ChatMessage(role="user", content="Yes I've tried that."),
    ]),
    provider_config=commonbase.ProviderConfig(
        provider="cb-openai-eu", params=commonbase.OpenAIParams(type="chat")
    ),
)

print(result.choices[0].text)
```

### Variables

You can also create a completion by providing variables for your managed prompt on the
[Commonbase Dashboard](https://commonbase.com/).

```py
import commonbase

result = commonbase.Completion.create(
    api_key="YOUR_API_KEY",
    project_id="YOUR_PROJECT_ID",
    variables={
        "user_name": "USERNAME",
        "email": "USERNAME@COMPANY.COM"
    }
)

print(result.best_result)
```

## Streaming

To stream the completion response as it is generated, use `Completion.stream`.

Streaming is useful when you want to display a completion "as it is typed" for a chatbot-like experience.

For longer completions, streaming lets you avoid hanging while you wait for a completed response
from `Completion.create`.

```py
import commonbase

result = commonbase.Completion.stream(
    api_key="YOUR_API_KEY",
    project_id="YOUR_PROJECT_ID",
    prompt="Write me a short essay about artificial intelligence."
)

for completion in result:
    if not completion.completed:
        print(completion.choices[0].text, end="")
    else:
        print("\n\ndone")
```
